<!DOCTYPE html>
<html lang="ko">
 
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=M+PLUS+1p" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=M+PLUS+Rounded+1c" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=Hachi+Maru+Pop" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Yusei+Magic" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Reggae+One" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+JP" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Sawarabi+Gothic" rel="stylesheet">
    <link href="https://fonts.googleapis.com/earlyaccess/nicomoji.css" rel="stylesheet">

    <link href="./font.css" rel="stylesheet">

    <link rel="icon" href="./img/favicon2/favicon.ico" />
    <script src="js/bouyomichan_client.js"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5RNP0LDER8"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5RNP0LDER8');
    </script>
    <!-- END: Google tag (gtag.js) -->

    <title>음성 입력 받는다요.</title>

    <style type="text/css">
        button, input, select, textarea {
            /* font-family : inherit; */
            /* font-family: 'メイリオ', Meiryo,sans-serif; */
            /* font-size   : 300%; */
            /* color  : black; */
            font-weight : 0;
            /*text-align  : center;       /* left, center, right */
            vertical-align : top;    /* top, middle, bottom */
            -webkit-text-stroke-color: rgb(21, 0, 141);
            -webkit-text-stroke-width: 0px;
        }

        html {
            height: 100%;
            width: 100%;
        }

        body {
            height: 100%;
            width: 100%;
            margin: 0;
            font-family: 'M PLUS Rounded 1c', sans-serif;
            /* font-family:'07NikumaruFont'; */
        }
        table {
            width: 100%;
            /* table-layout: fixed; */
        }
        table.btm_table {
            position:absolute;
            /* bottom:0; */
        }

        table td {
            /*word-break: break-all;*/
            overflow-wrap : break-word;
        }
    </style>

    <style>
        /* prepare the selectors to add a stroke to */

        .stroke-single-imb{
            /* position: absolute; */
            left: 0;
            right: 0;
            margin: 0;
            /* -webkit-text-stroke: 0px #0000FF;  */
        }

        .stroke-single-bg{
            position: absolute;
            left: 0;
            right: 0;
            margin: auto;
            /* -webkit-text-stroke: 3px #FF0000;  */
        }
        /* add a single stroke */
        .stroke-single-fg{
            position: absolute;
            left: 0;
            right: 0;
            margin: auto;
            /* -webkit-text-stroke: 0px #FFFFFF; */
        }
    </style>

</head>
 

<body>
</td>
            <tr>
                
                <td>
       <a href="https://hits.seeyoufarm.com"><img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2Fgirinb%2Fhit-counter&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false"/></a>
    </a>
</td>
<!-- # 注意事項 ######################### -->
<!-- <iframe src="" name="sample" width="100%" height="30%" id="asr_frame" onclick="toggleIframeHeight()"></iframe> -->
<iframe src="" name="sample" width="100%" height="30%" id="asr_frame"></iframe>

<a href="https://sayonari.github.io/jimakuChan/" target="_blank">원작 링크</a><br/><br/>
제작해주신 쟈탄 과 나카무라 료타님에게 감사 인사를 드립니다.
<HR>
　위의 화면을 클릭하면 설정 화면이 닫히고 다시 누르면 다시 열립니다.<BR>
<HR>
    일단 자신의 브라우저 종류에 따라서 아래 확장 프로그램을 설치해주세요.<BR>
    설치는 일단 하라는 대로 다 하면 됩니다.<BR>
    이중 번역을 위한 확장 프로그램 링크.<BR>
    <a href="https://microsoftedge.microsoft.com/addons/detail/%EB%AA%B0%EC%9E%85%ED%98%95-%EB%B2%88%EC%97%AD-%EC%9B%B9-%EC%82%AC%EC%9D%B4%ED%8A%B8-%EB%B2%88%EC%97%AD-%ED%99%95%EC%9E%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8/amkbmndfnliijdhojkpoglbnaaahippg" target="_blank">엣지용</a><br/><br/>
    <a href="https://chromewebstore.google.com/detail/%EB%AA%B0%EC%9E%85%ED%98%95-%EB%B2%88%EC%97%AD-%EC%9B%B9-%EC%82%AC%EC%9D%B4%ED%8A%B8-%EB%B2%88%EC%97%AD-%ED%99%95%EC%9E%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-p/bpoadfkcbjbfhfodiogcnhhhpibjhbnh" target="_blank">크롬용</a><br/><br/>
    <a href="https://addons.mozilla.org/zh-CN/firefox/addon/immersive-translate/" target="_blank">파폭용</a><br/><br/>
    
    사용 방법은 이 링크를 보면된다.<BR>
<span style="font-size: 2em;">설치를 하고 나서 OBS까지 연동하는 설명서를 작성 해놓았다</span><BR>

<a href="info.html" target="_blank"><span style="font-size: 2em;">기린이 추가한 설명서</span></a><br/><br/>

    <a href="fornatting.json" download>장애 발생시 재설정용 환경 설정 파일(다른이름으로 저장하구 설정을 불러오면 된다!)</a><br/><br/>
    그리고 이 페이지 자체의 사용 방법은 별거 없으니 직접 테스트 해보도록!!<BR>
<HR>

<!-- # 設定セーブ＆ロードボタン ################## -->
　<button onclick="saveSettings()">설정을 PC에 저장</button>　
<button onclick="loadSettings()">설정을 브라우저로 불러오기</button>　：설정이 완료되면 설정 파일을 저장합시다.　<BR>
<HR>

<!-- # API key text box ##################### -->
번역용 Google API-KEY: <input type="text" name="gas_key" id="gas_key" size="60" oninput="updateOptionValues();" /> 키를 만드는 방법 → <a target="_blank" href="http://www.sayonari.com/trans_asr/index_asr.html">[LINK]</a><BR>
남은 번역 횟수：<div id="displayTransCount" style="display: inline-block; _display: inline;"></div><font color="gray">（무료 횟수：5,000回，유료：20,000回）← 구글 API 사용료 나감</font><BR>
<HR>

<!-- # 背景の色 ############################## -->
　　　　문자색 경계색BR>
입력 언어　：<input id="color1" type="color" value="#ffffff" oninput="changeTextColor('fg',this.value,1); updateOptionValues(only_url=true)" />
<input id="st_color1" type="color" value="#000000" oninput="changeTextColor('bg',this.value,1); updateOptionValues(only_url=true)" />

　　배경색：<input id="bgcolor" type="color" value="#00ff00" oninput="document.getElementById('asr_frame').contentWindow.document.bgColor=this.value; changeTextColor('imb',this.value,1); updateOptionValues(only_url=true)" />

<BR>
번역 언어１：<input id="color2" type="color" value="#ffffff" oninput="changeTextColor('fg',this.value,2); updateOptionValues(only_url=true)" />
<input id="st_color2" type="color" value="#000000" oninput="changeTextColor('bg',this.value,2); updateOptionValues(only_url=true)" /><BR>

번역 언어２：<input id="color3" type="color" value="#ffffff" oninput="changeTextColor('fg',this.value,3); updateOptionValues(only_url=true)" />
<input id="st_color3" type="color" value="#000000" oninput="changeTextColor('bg',this.value,3); updateOptionValues(only_url=true)" /><BR>

번역 언어３：<input id="color4" type="color" value="#ffffff" oninput="changeTextColor('fg',this.value,4); updateOptionValues(only_url=true)" />
<input id="st_color4" type="color" value="#000000" oninput="changeTextColor('bg',this.value,4); updateOptionValues(only_url=true)" /><BR>

<HR>

<!-- # テキストフォント ########################
フォント名： <input type="text" name="font" id="font" size="60" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('result_text').style.fontFamily = getParam('font'); updateOptionValues()"><BR>
         -->

<!-- # テキストサイズ ######################### -->
　　　　　　　사이즈　　　　　　　비중　　　　　　　 테두리　<BR>
입력 언어　：
<input id="size1" type="range" value="25" min="0" max="40" step="0.1" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('speech_text').style.fontSize = this.value + 'pt'; document.getElementById('text_size_view1').innerHTML=this.value; updateOptionValues(only_url=true)" />
<span id="text_size_view1">25</span>px 

<input id="weight1" type="range" value="900" min="100" max="900" step="100" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('speech_text').style.fontWeight = this.value; document.getElementById('text_weight_view1').innerHTML=this.value; updateOptionValues(only_url=true)" />
<span id="text_weight_view1">900</span> 

<input id="st_width1" type="range" value="6" min="0" max="20" step="0.1" oninput="setTextBorder(this.value,1); document.getElementById('text_st_size_view1').innerHTML=this.value; updateOptionValues(only_url=true)" />
<span id="text_st_size_view1">6</span>pt
<BR>

번역 언어１：
<input id="size2" type="range" value="25" min="0" max="40" step="0.1" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('trans_text').style.fontSize = this.value + 'pt'; document.getElementById('text_size_view2').innerHTML=this.value; updateOptionValues(only_url=true)" />
<span id="text_size_view2">25</span>px 

<input id="weight2" type="range" value="900" min="100" max="900" step="100" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('trans_text').style.fontWeight = this.value; document.getElementById('text_weight_view2').innerHTML=this.value; updateOptionValues(only_url=true)" />
<span id="text_weight_view2">900</span> 

<input id="st_width2" type="range" value="6" min="0" max="20" step="0.1" oninput="setTextBorder(this.value,2); document.getElementById('text_st_size_view2').innerHTML=this.value; updateOptionValues(only_url=true)" />
<span id="text_st_size_view2">6</span>pt
<BR>

번역 언어２：
<input id="size3" type="range" value="25" min="0" max="40" step="0.1" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('trans_text2').style.fontSize = this.value + 'pt'; document.getElementById('text_size_view3').innerHTML=this.value; updateOptionValues(only_url=true)" />
<span id="text_size_view3">25</span>px 

<input id="weight3" type="range" value="900" min="100" max="900" step="100" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('trans_text2').style.fontWeight = this.value; document.getElementById('text_weight_view3').innerHTML=this.value; updateOptionValues(only_url=true)" />
<span id="text_weight_view3">900</span> 

<input id="st_width3" type="range" value="6" min="0" max="20" step="0.1" oninput="setTextBorder(this.value,3); document.getElementById('text_st_size_view3').innerHTML=this.value; updateOptionValues(only_url=true)" />
<span id="text_st_size_view3">6</span>pt
<BR>

번역 언어３：
<input id="size4" type="range" value="25" min="0" max="40" step="0.1" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('trans_text3').style.fontSize = this.value + 'pt'; document.getElementById('text_size_view4').innerHTML=this.value; updateOptionValues(only_url=true)" />
<span id="text_size_view4">25</span>px 

<input id="weight4" type="range" value="900" min="100" max="900" step="100" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('trans_text3').style.fontWeight = this.value; document.getElementById('text_weight_view4').innerHTML=this.value; updateOptionValues(only_url=true)" />
<span id="text_weight_view4">900</span> 

<input id="st_width4" type="range" value="6" min="0" max="20" step="0.1" oninput="setTextBorder(this.value,4); document.getElementById('text_st_size_view4').innerHTML=this.value; updateOptionValues(only_url=true)" />
<span id="text_st_size_view4">6</span>pt
<BR>

<HR>
<!-- # テキストの揃え ######################### -->
텍스트위치：　
좌우：
<select id="textAlign" onchange="updateOptionValues()">
    <option value="left">왼쪽 정렬</option>
    <option value="center" selected>중앙정렬</option>
    <option value="right">오른쪽 정렬</option>
</select>

　상하：
<select id="v_align" onchange="updateOptionValues()">
    <option value="top" selected>위</option>
    <option value="bottom">아래</option>
</select><BR>

<!-- # テキストの改行 ######################### -->
텍스트 줄 바꿈:
<select id="whiteSpace" onchange="updateOptionValues()">
    <option value="nowrap">줄바꿈 없음</option>
    <option value="" selected>화면 끝에서 줄바꿈</option>
</select><BR>
<HR>

<!-- # テキスト表示項目 ####################### -->
음성 인식 언어　：
<select id="recog" onchange="updateOptionValues(only_url=false);">
    <option value="ja">일본어</option>
    <option value="en">영어</option>
    <option value="ko" selected>한국어</option>
    <option value="zh-CN">중국어</option>
    <option value="zh-TW">대만어</option>
    <option value="fr">프랑스어</option>
    <option value="it">이탈리아어</option>
    <option value="de">독일어</option>
    <option value="tr">터키어</option>
    <option value="sv">스웨덴어</option>
    <option value="pl">폴란드어</option>
    <option value="uk">우크라이나어</option>
    <option value="ru">러시아어</option>
    <option value="es">스페인어</option>
    <option value="pt">포르투칼어</option>
    <option value="nl">네덜란드어</option>
    <option value="id">인도네이사어</option>
    <option value="vi">베트남어</option>
    <option value="th">태국어</option>
    <option value="ar">아랍어</option>
    <option value="so">소말리아어</option>
</select>　　

폰트　：
<select name="speech_text_font_selector" id="speech_text_font_selector" onchange="document.getElementById('asr_frame').contentWindow.document.getElementById('speech_text').style.fontFamily = this.value; selectFont();">
    <option value="direct">[직접 지정하세요]</option>
    <option value="M PLUS\ 1p">M PLUS 1p</option>
    <option value="M PLUS Rounded\ 1c" selected>M PLUS Rounded 1c</option>
    <option value="Mamelon">Mamelon</option>
    <option value="YasashisaB">YasashisaB</option>
    <option value="HuiFont29">HuiFont29</option>
    <option value="Hachi Maru Pop">Hachi Maru Pop</option>
    <option value="MkPOP">MkPOP</option>
    <option value="bananaslipplus">bananaslipplus</option>
    <option value="katyou">katyou</option>
    <option value="TanukiMagic">TanukiMagic</option>
    <option value="hakidame">hakidame</option>
    <option value="umeboshi">umeboshi</option>
    <option value="Jiyucho">Jiyucho</option>
    <option value="HitmoR">Hitmo</option>
    <option value="nishikiteki">nishikiteki</option>
    <option value="Yusei Magic">Yusei Magic</option>
    <option value="Nikumaru">Nikumaru</option>
    <option value="KTEGAKI">KTEGAKI</option>
    <option value="JKGL">JKGL</option>
    <option value="Reggae One">Reggae One</option>
    <option value="OhisamaFont">OhisamaFont</option>
    <option value="nukamiso">nukamiso</option>
    <option value="genkai">genkai</option>
    <option value="CP">CP</option>
    <option value="Noto Sans JP">Noto Sans JP</option>
    <option value="Sawarabi Gothic">Sawarabi Gothic</option>
    <option value="Nico Moji">Nico Moji</option>
    
    

</select>　
글꼴(직접 지정): <input type="text" name="speech_text_font" id="speech_text_font" size="30" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('speech_text').style.fontFamily = this.value; updateOptionValues();" disabled /><br>


번역 언어（１）：
<select id="trans" onchange="updateOptionValues(only_url=false);">
    <option value="none" selected>없음</option>
    <option value="ja">일본어</option>
    <option value="en">영어</option>
    <option value="ko">한국어</option>
    <option value="zh-CN">중국어</option>
    <option value="zh-TW">대만어</option>
    <option value="fr">프랑스어</option>
    <option value="it">이탈리아어</option>
    <option value="de">독일어</option>
    <option value="tr">터키어</option>
    <option value="sv">스웨덴어</option>
    <option value="pl">폴란드어</option>
    <option value="uk">우크라이나어</option>
    <option value="ru">러시아어</option>
    <option value="es">스페인어</option>
    <option value="pt">포르투칼어</option>
    <option value="nl">네덜란드어</option>
    <option value="id">인도네이사어</option>
    <option value="vi">베트남어</option>
    <option value="th">태국어</option>
    <option value="ar">아랍어</option>
    <option value="so">소말리아어</option>
</select>　　

폰트　：
<select name="trans_text_font_selector" id="trans_text_font_selector" onchange="document.getElementById('asr_frame').contentWindow.document.getElementById('trans_text').style.fontFamily = this.value; selectFont();">
    <option value="direct">[직접 지정하세요]</option>
    <option value="M PLUS\ 1p">M PLUS 1p</option>
    <option value="M PLUS Rounded\ 1c" selected>M PLUS Rounded 1c</option>
    <option value="Mamelon">Mamelon</option>
    <option value="YasashisaB">YasashisaB</option>
    <option value="HuiFont29">HuiFont29</option>
    <option value="Hachi Maru Pop">Hachi Maru Pop</option>
    <option value="MkPOP">MkPOP</option>
    <option value="bananaslipplus">bananaslipplus</option>
    <option value="katyou">katyou</option>
    <option value="TanukiMagic">TanukiMagic</option>
    <option value="hakidame">hakidame</option>
    <option value="umeboshi">umeboshi</option>
    <option value="Jiyucho">Jiyucho</option>
    <option value="HitmoR">Hitmo</option>
    <option value="nishikiteki">nishikiteki</option>
    <option value="Yusei Magic">Yusei Magic</option>
    <option value="Nikumaru">Nikumaru</option>
    <option value="KTEGAKI">KTEGAKI</option>
    <option value="JKGL">JKGL</option>
    <option value="Reggae One">Reggae One</option>
    <option value="OhisamaFont">OhisamaFont</option>
    <option value="nukamiso">nukamiso</option>
    <option value="genkai">genkai</option>
    <option value="CP">CP</option>
    <option value="Noto Sans JP">Noto Sans JP</option>
    <option value="Sawarabi Gothic">Sawarabi Gothic</option>
    <option value="Nico Moji">Nico Moji</option>
</select>　
글꼴(직접 지정): <input type="text" name="trans_text_font" id="trans_text_font" size="30" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('trans_text').style.fontFamily = this.value; updateOptionValues();" disabled /><br>


번역 언어（２）：
<select id="trans2" onchange="updateOptionValues(only_url=false);">
    <option value="none" selected>없음</option>
    <option value="ja">일본어</option>
    <option value="en">영어</option>
    <option value="ko">한국어</option>
    <option value="zh-CN">중국어</option>
    <option value="zh-TW">대만어</option>
    <option value="fr">프랑스어</option>
    <option value="it">이탈리아어</option>
    <option value="de">독일어</option>
    <option value="tr">터키어</option>
    <option value="sv">스웨덴어</option>
    <option value="pl">폴란드어</option>
    <option value="uk">우크라이나어</option>
    <option value="ru">러시아어</option>
    <option value="es">스페인어</option>
    <option value="pt">포르투칼어</option>
    <option value="nl">네덜란드어</option>
    <option value="id">인도네이사어</option>
    <option value="vi">베트남어</option>
    <option value="th">태국어</option>
    <option value="ar">아랍어</option>
    <option value="so">소말리아어</option>
</select>　　

폰트　：
<select name="trans_text2_font_selector" id="trans_text2_font_selector" onchange="document.getElementById('asr_frame').contentWindow.document.getElementById('trans_text2').style.fontFamily = this.value; selectFont();">
    <option value="direct">[직접 지정하세요]</option>
    <option value="M PLUS\ 1p">M PLUS 1p</option>
    <option value="M PLUS Rounded\ 1c" selected>M PLUS Rounded 1c</option>
    <option value="Mamelon">Mamelon</option>
    <option value="YasashisaB">YasashisaB</option>
    <option value="HuiFont29">HuiFont29</option>
    <option value="Hachi Maru Pop">Hachi Maru Pop</option>
    <option value="MkPOP">MkPOP</option>
    <option value="bananaslipplus">bananaslipplus</option>
    <option value="katyou">katyou</option>
    <option value="TanukiMagic">TanukiMagic</option>
    <option value="hakidame">hakidame</option>
    <option value="umeboshi">umeboshi</option>
    <option value="Jiyucho">Jiyucho</option>
    <option value="HitmoR">Hitmo</option>
    <option value="nishikiteki">nishikiteki</option>
    <option value="Yusei Magic">Yusei Magic</option>
    <option value="Nikumaru">Nikumaru</option>
    <option value="KTEGAKI">KTEGAKI</option>
    <option value="JKGL">JKGL</option>
    <option value="Reggae One">Reggae One</option>
    <option value="OhisamaFont">OhisamaFont</option>
    <option value="nukamiso">nukamiso</option>
    <option value="genkai">genkai</option>
    <option value="CP">CP</option>
    <option value="Noto Sans JP">Noto Sans JP</option>
    <option value="Sawarabi Gothic">Sawarabi Gothic</option>
    <option value="Nico Moji">Nico Moji</option>
</select>　
글꼴(직접 지정): <input type="text" name="trans_text2_font" id="trans_text2_font" size="30" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('trans_text2').style.fontFamily = this.value; updateOptionValues();" disabled /><br>

번역 언어（３）：
<select id="trans3" onchange="updateOptionValues(only_url=false);">
    <option value="none" selected>없음</option>
    <option value="ja">일본어</option>
    <option value="en">영어</option>
    <option value="ko">한국어</option>
    <option value="zh-CN">중국어</option>
    <option value="zh-TW">대만어</option>
    <option value="fr">프랑스어</option>
    <option value="it">이탈리아어</option>
    <option value="de">독일어</option>
    <option value="tr">터키어</option>
    <option value="sv">스웨덴어</option>
    <option value="pl">폴란드어</option>
    <option value="uk">우크라이나어</option>
    <option value="ru">러시아어</option>
    <option value="es">스페인어</option>
    <option value="pt">포르투칼어</option>
    <option value="nl">네덜란드어</option>
    <option value="id">인도네이사어</option>
    <option value="vi">베트남어</option>
    <option value="th">태국어</option>
    <option value="ar">아랍어</option>
    <option value="so">소말리아어</option>
</select>　　

폰트　：
<select name="trans_text3_font_selector" id="trans_text3_font_selector" onchange="document.getElementById('asr_frame').contentWindow.document.getElementById('trans_text3').style.fontFamily = this.value; selectFont();">
    <option value="direct">[直接指定]</option>
    <option value="M PLUS\ 1p">M PLUS 1p</option>
    <option value="M PLUS Rounded\ 1c" selected>M PLUS Rounded 1c</option>
    <option value="Mamelon">マメロン</option>
    <option value="YasashisaB">やさしさB</option>
    <option value="HuiFont29">ふい字</option>
    <option value="Hachi Maru Pop">Hachi Maru Pop</option>
    <option value="MkPOP">851マカポップ</option>
    <option value="bananaslipplus">バナナスリップplus</option>
    <option value="katyou">花鳥風月</option>
    <option value="TanukiMagic">たぬき油性マジック</option>
    <option value="hakidame">吐き溜</option>
    <option value="umeboshi">梅干し</option>
    <option value="Jiyucho">じゆうちょう</option>
    <option value="HitmoR">Hitmo</option>
    <option value="nishikiteki">にしき的</option>
    <option value="Yusei Magic">Yusei Magic</option>
    <option value="Nikumaru">にくまる</option>
    <option value="KTEGAKI">kawaii手書き</option>
    <option value="JKGL">JK Gothic L</option>
    <option value="Reggae One">Reggae One</option>
    <option value="OhisamaFont">おひさま</option>
    <option value="nukamiso">ぬかみそ</option>
    <option value="genkai">源界明朝</option>
    <option value="CP">チェックポイント</option>
    <option value="Noto Sans JP">Noto Sans JP</option>
    <option value="Sawarabi Gothic">さわらびゴシック</option>
    <option value="Nico Moji">ニコモジ</option>
</select>　
글꼴(직접 지정): <input type="text" name="trans_text3_font" id="trans_text3_font" size="30" oninput="document.getElementById('asr_frame').contentWindow.document.getElementById('trans_text3').style.fontFamily = this.value; updateOptionValues();" disabled /><br>

<HR>

<!-- # テキスト表示を●秒後に消す ######################### -->
몇 밀리 초 후에 문장을 지우겠습니까?(적당하게 넣으면 된다)　　　：　
<input type="text" name="timer" id="timer" size="10" oninput="updateOptionValues();" />밀리초(반각 숫자로 넣어 주세요.1000밀리초 = 1초)<BR>

<!-- # 文の終わり ######################### -->
몇 밀리초 침묵하면 문장을 마치겠습니까?(이것도 자신이 써보면서 자신의 말 속도에 따라서 알맞게 조절해라.)：　
<input type="text" name="short_pause" value="750" id="short_pause" size="10" oninput="updateOptionValues();" />밀리초(반각 숫자로 넣어 주세요.1000밀리초 = 1초)<BR>
(500 : 바로 자르기 | 750 : 보통 | 1000 : 연결 조정. 아무것도 넣지 않으면 지금까지와 같은 동작이 된다.) <BR>
<HR>


<!-- # 棒読みちゃん連携 ######################### -->
막대기 읽기 협동 사용 :<input type="checkbox" id="bouyomi" onchange="updateOptionValues()"> ← 사용하는 경우 체크 넣는다. 상세 → <a target="_blank" href="https://twitter.com/sayonari/status/1386937837682003968">twitter</a><BR>
<!-- # センシティブワード対応する！ ######################### -->
- 센시티 워드 대응 (***으로 교체)<font color="red">멈추다</font>：<input type="checkbox" id="anti_sexual" onchange="updateOptionValues()"> <BR>
<HR>

<!-- # URL view & copy button ############### -->
<!-- URL :  -->
<!-- <textarea name="url" id="url" rows="7" cols="90"></textarea><BR> -->
<!-- 　　　<input type="button" value="copy to clipboard" id="textarea_copy" onclick="document.getElementsByTagName('textarea')[0].select();document.execCommand('copy');"> -->
<!-- 　<a id="open_link" target="_self" href="">[同じタブで開く]</a><BR>
別窓で開くと２つ起動して両方止まるよ！多重起動しないように気をつけて！<BR> -->
<!-- <HR> -->

<!-- # .bat download ボタン ############################## -->
.bat 파일 생성:<BR>
이것을 사용하면,<font color="red">전체 화면 게임을 해도 멈추지 않는다!</font>자세한 것은 이쪽→（<a target="_blank" href="https://www.youtube.com/watch?v=8-UXx_tVeYk">해설 동영상</a>）<BR>
.bat 파일과 설정 파일을 다운로드하십시오.<BR>

<table border="1" style="width: auto;"><tr><td>
<table style="width: auto;">
    <tr>
        <td width="180">Windows 사용자：</td>
        <td><button onclick="generateBatFile('win')">Windows용 시작 .bat 파일 생성</button></td>
        <td><button onclick="saveSettings()">설정 파일을 PC에 저장</button></td>
    </tr>
</tr>
</table>
</td></tr></table>
<BR>
    
<table border="1" style="width: auto;"><tr><td>
<table style="width: auto;">
    <tr>
        <td width="180">Mac 사용자：</td>
        <td><button onclick="generateBatFile('mac')">Mac용 시작 .command 파일 생성</button></td>
        <td><button onclick="saveSettings()">설정 파일을 PC에 저장</button></td>
    </tr>
</table>
</td></tr></table>

<HR>

<!-- # dummy 見えない数字 ############################## -->
<input style="display: none;" type="text" name="frame_height" id="frame_height" value="30%" size="10" oninput="updateOptionValues();" />


<BR><BR><BR>
</div><BR>
</body>










<!-- # スクリプト ########################################### -->

<!-- # 字幕ちゃん設定項目のロードと，画面への反映 ############################## -->
<script type="text/javascript">
    const currentURL = window.location.origin + window.location.pathname;
    let base_url = currentURL.replace("index.html", "");
    base_url += "main.html?";
    base_url = base_url.replace("??", "?");


    // config 値　一覧 ////////////////
    config_values = ["gas_key", "textAlign", "v_align", "whiteSpace", "bgcolor", "frame_height"
        , "recog", "size1", "weight1", "color1", "st_color1", "st_width1"
        , "trans", "size2", "weight2", "color2", "st_color2", "st_width2"
        , "trans2", "size3", "weight3", "color3", "st_color3", "st_width3"
        , "trans3", "size4", "weight4", "color4", "st_color4", "st_width4"
        , "timer", "short_pause"
        , "bouyomi", "anti_sexual"
        , "speech_text_font_selector", "trans_text_font_selector", "trans_text2_font_selector", "trans_text3_font_selector"
        , "speech_text_font", "trans_text_font", "trans_text2_font", "trans_text3_font"];

    // 翻訳画面とURLを初期化 ///////////////
    document.getElementById('asr_frame').src = base_url;
    // document.getElementById('url').innerHTML = base_url;


    // 設定の復元 ////////////////////
    const config = JSON.parse(localStorage.jimakuChan_config || '{}');
    for (const p of config_values) {
        if(config[p] != null) document.getElementById(p).value = config[p];
    }
    for (var i=0; i<3; i++) {
        if(config['size' + String(i+1)] != null) document.getElementById('text_size_view' + String(i+1)).innerHTML = config['size' + String(i+1)];
        if(config['weight' + String(i+1)] != null) document.getElementById('text_weight_view' + String(i+1)).innerHTML = config['weight' + String(i+1)];
        if(config['st_width' + String(i+1)] != null) document.getElementById('text_st_size_view' + String(i+1)).innerHTML = config['st_width' + String(i+1)];
    }
    if (config['bouyomi'] !== null && config['bouyomi'] !== undefined) {
        document.getElementById('bouyomi').checked = config['bouyomi'];
    }
    if (config['anti_sexual'] !== null && config['anti_sexual'] !== undefined) {
        document.getElementById('anti_sexual').checked = config['anti_sexual'];
    }
    if (config['frame_height'] !== null && config['frame_height'] !== undefined) {
        var iframe = document.getElementById('asr_frame');
            var body = document.body;
            iframe.style.height = config['frame_height'];

            if (config['frame_height'] === '100%') {
                body.style.overflow = 'hidden';  // ページスクロールを禁止する
            } else {
                body.style.overflow = 'auto';  // ページスクロールを有効にする
            }
    }


    // フォントの直接入力の場合，テキストフィールドを有効化 ////////////////////
    function selectFont() {
        var speech_text_font_selector = document.getElementById('speech_text_font_selector').value;
        var trans_text_font_selector = document.getElementById('trans_text_font_selector').value;
        var trans_text2_font_selector = document.getElementById('trans_text2_font_selector').value;
        var trans_text3_font_selector = document.getElementById('trans_text3_font_selector').value;
        console.log("글꼴 텍스트 영역: " + speech_text_font_selector);
        if (speech_text_font_selector === "direct") {
            speech_text_font.disabled = false;
        } else {
            speech_text_font.disabled = true;
        }

        if (trans_text_font_selector === "direct") {
            trans_text_font.disabled = false;
        } else {
            trans_text_font.disabled = true;
        }

        if (trans_text2_font_selector === "direct") {
            trans_text2_font.disabled = false;
        } else {
            trans_text2_font.disabled = true;
        }

        if (trans_text3_font_selector === "direct") {
            trans_text3_font.disabled = false;
        } else {
            trans_text3_font.disabled = true;
        }

        updateOptionValues();
    }

    // URLに付けるオプションの値をアップデート //////////
    function updateOptionValues(only_url=false) {
        for (const p of config_values) {
            eval("var " + p + " = document.getElementById('" + p + "').value;");
        }
        var bouyomi = document.getElementById('bouyomi').checked;
        var anti_sexual = document.getElementById('anti_sexual').checked;

        var new_url = base_url + "textAlign=" + textAlign + "&v_align=" + v_align 
                     + "&recog=" + recog 
                     + "&bgcolor=" + bgcolor

                     + "&size1=" + size1 + "&weight1=" + weight1 + "&color1=" + color1
                     + "&st_color1=" + st_color1 + "&st_width1=" + st_width1

                     + "&size2=" + size2 + "&weight2=" + weight2 + "&color2=" + color2
                     + "&st_color2=" + st_color2 + "&st_width2=" + st_width2

                     + "&size3=" + size3 + "&weight3=" + weight3 + "&color3=" + color3
                     + "&st_color3=" + st_color3 + "&st_width3=" + st_width3

                     + "&size4=" + size4 + "&weight4=" + weight4 + "&color4=" + color4
                     + "&st_color4=" + st_color4 + "&st_width4=" + st_width4;
        if(whiteSpace != '') {new_url = new_url + "&whiteSpace=" + whiteSpace;} 
        if(trans != 'none') {new_url = new_url + "&trans=" + trans;} 
        if(trans2 != 'none') {new_url = new_url + "&trans2=" + trans2;} 
        if(trans3 != 'none') {new_url = new_url + "&trans3=" + trans3;} 

        // font の処理
        if (speech_text_font_selector !== "direct") {
            speech_text_font = speech_text_font_selector;
        }
        if (trans_text_font_selector !== "direct") {
            trans_text_font = trans_text_font_selector;
        }
        if (trans_text2_font_selector !== "direct") {
            trans_text2_font = trans_text2_font_selector;
        }
        if (trans_text3_font_selector !== "direct") {
            trans_text3_font = trans_text3_font_selector;
        }
        if(speech_text_font != '') {new_url = new_url + "&speech_text_font=" + speech_text_font;} 
        if(trans_text_font != '') {new_url = new_url + "&trans_text_font=" + trans_text_font;} 
        if(trans_text2_font != '') {new_url = new_url + "&trans_text2_font=" + trans_text2_font;} 
        if(trans_text3_font != '') {new_url = new_url + "&trans_text3_font=" + trans_text3_font;} 

        if(timer != '') {new_url = new_url + "&timer=" + timer;} 
        if(short_pause != '') {new_url = new_url + "&short_pause=" + short_pause;} 

        if(bouyomi == true) {new_url = new_url + "&bouyomi=" + bouyomi;}
        if(anti_sexual == true) {new_url = new_url + "&anti_sexual=" + "false";}
        if(gas_key != '') {new_url = new_url + "&gas_key=" + gas_key;}
   
        // config の更新
        for (const p of config_values) {
            config[p] = eval(p);
        }

        // 設定の保存
        localStorage.jimakuChan_config = JSON.stringify(config);

        // 認識ちゃん画面の更新 ///////
        if(only_url == false) {
            document.getElementById('asr_frame').src = new_url;
        }

        // document.getElementById('url').innerHTML = new_url;
        // document.getElementById('open_link').href = new_url;

        return 0;
    }
    updateOptionValues()


    // テキストの色変え ---------------------------
    function changeTextColor(type, color, id) {
        var text_layer = ['fg','bg','imb'];
        var lang_line = ['speech_text','trans_text','trans_text2','trans_text3'];

        if(type == "fg") { document.getElementById('asr_frame').contentWindow.document.getElementById(lang_line[id-1] + '-' + type).style.color = color;}
        else { document.getElementById('asr_frame').contentWindow.document.getElementById(lang_line[id-1] + '-' + type).style.webkitTextStrokeColor = color; }

        // type が imb の場合は，全てのlang_lineに反映
        if(type == "imb") {
            for (const ll of lang_line){
                document.getElementById('asr_frame').contentWindow.document.getElementById(ll + '-' + type).style.webkitTextStrokeColor = color;
                document.getElementById('asr_frame').contentWindow.document.getElementById(ll + '-' + type).style.color = color;
            } 
        }
    }

    function setTextBorder(width, id) {
        var lang_line = ['speech_text','trans_text','trans_text2','trans_text3'];

        document.getElementById('asr_frame').contentWindow.document.getElementById(lang_line[id-1] + "-bg").style.webkitTextStrokeWidth = width + 'pt';
        document.getElementById('asr_frame').contentWindow.document.getElementById(lang_line[id-1] + "-imb").style.webkitTextStrokeWidth = width + 'pt';
   }

    function changeText(text, id){
        var text_layer = ['fg','bg','imb'];
        var lang_line = ['speech_text','trans_text','trans_text2','trans_text3'];

        for (const tl of text_layer){ 
            document.getElementById('asr_frame').contentWindow.document.getElementById(ll[id-1] + '-' + tl).innerHTML = text;
        }         
    }

</script>

<!-- # 파일 생성 스크립트 ############################## --->
 <script>  
    function generateFile(content, fileName) {
      const blob = new Blob([content], { type: 'text/plain' });
      const link = document.createElement('a');
      link.href = window.URL.createObjectURL(blob);
      link.download = fileName;
      
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
  
    function generateBatFile(os) {
    //   let url = document.getElementById('url').value.trim();
        let url = currentURL;
      // URLデコードを行う
      url = decodeURIComponent(url);
  
      if (url === '') {
        alert('URL이 없습니다. 오류입니다.');
        return;
      }
      
      let content, filename;
  
      if (os === 'win') {
        content = `@echo off\r\nset "USERPROFILE=%LOCALAPPDATA%\\Google\\Chrome\\User Data\\user_jimaku_001"\r\nstart chrome.exe --disable-features=CalculateNativeWinOcclusion --user-data-dir="%USERPROFILE%" --new-window "${url}"\r\nexit /b`;
        filename = "jimakuChan_nonStop.bat";

      } else {
        content = `#!/bin/sh\n"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome" --disable-features=CalculateNativeWinOcclusion --user-data-dir="Library/Application Support/Google/Chrome/user_jimaku_001"  --new-window "${url}"`;
        filename = "jimakuChan_nonStop.command";
      }
  
      generateFile(content, filename);
    }

</script>

<!-- # 設定ファイルの保存と読込 ############################## -->
<script>

    // Save LocalStorage settings to a file
    function saveSettings() {
        const settings = localStorage.jimakuChan_config;
        if (!settings) {
            alert('No settings found to save!');
            return;
        }
        const blob = new Blob([settings], { type: 'text/plain' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = 'jimakuChan_settings.json';
        link.click();
        URL.revokeObjectURL(link.href);
    }

    // Load LocalStorage settings from a file
    function loadSettings() {
        const input = document.createElement('input');
        input.type = 'file';
        input.onchange = e => {
            const file = e.target.files[0];
            const reader = new FileReader();
            reader.onload = function(readEvent) {
                try {
                    const settings = JSON.parse(readEvent.target.result);
                    localStorage.jimakuChan_config = JSON.stringify(settings);
                    // reload
                    location.reload();
                } catch (error) {
                    alert('Failed to load settings: ' + error.message);
                }
            };
            reader.readAsText(file);
        };
        input.click();
    }

</script>

<!-- # 翻訳回数取得　############################ -->
<script>
    function getTranslationCount() {
        var iframe = document.getElementById('asr_frame');
        var transCount = iframe.contentWindow.document.getElementById('translationCount').innerHTML;
        if(transCount == ''){
            transCount = '[여기 횟수가 나올꺼야！]';
        }
        return transCount;
    }

    // 1秒ごとに翻訳カウントを更新
    setInterval(function() {
        document.getElementById('displayTransCount').innerHTML = getTranslationCount();
    }, 1000);
</script>

<!-- # iframeの高さを切り替える　############################ -->
<script>
    function toggleIframeHeight() {
        console.log("toggleIframeHeight");
        var iframe = document.getElementById('asr_frame');
        var body = document.body;

        // ページのスクロール位置を一番上に戻す
        window.scrollTo(0, 0);

        if (iframe.style.height === '100%') {
            iframe.style.height = '30%';
            body.style.overflow = 'auto';  // ページスクロールを有効にする
        } else {
            iframe.style.height = '100%';
            body.style.overflow = 'hidden';  // ページスクロールを禁止する
        }

        document.getElementById('frame_height').value = iframe.style.height;
        updateOptionValues();
    }
</script>

<!-- iframeの高さを自動調整する -->
<script>
    window.addEventListener('load', function() {
        var iframe = document.getElementById('asr_frame'); // iframeのIDに置き換えてください
        var iframeDoc = iframe.contentDocument || iframe.contentWindow.document;

        iframeDoc.addEventListener('click', function() {
            // ここにクリックされた時の処理を書く
            toggleIframeHeight(); // 高さを切り替える関数を呼び出す
        });
    });
</script>

</html>